
<div>
  <h2>Listado de CategorÃ­as:</h2>
</div>

<div class="categorias__tarjetas-grid">
  @for (categoria of categorias(); track categoria.id) {
    <div class="categorias__tarjeta">
      <span class="material-symbols-rounded">category</span>
      <div class="categorias__tarjeta-info">
        <p><strong>ID:</strong> {{categoria.id}}</p>
        <p><strong>Nombre:</strong> {{categoria.nombre}}</p>
        <p><strong>DescripciÃ³n:</strong> {{categoria.descripcion}}</p>
      </div>
      <div class="categorias__tarjeta-acciones">
        <button class="btn editar" (click)="abrirModalCrearEditar(categoria)">âœï¸ Editar</button>
        <button class="btn eliminar" (click)="abrirModalEliminar(categoria)">ğŸ—‘ï¸ Eliminar</button>
      </div>
    </div>
  }
</div>

<div class="boton-circulo" (click)="abrirModalCrearEditar()">+</div>

<ajustes-modal [estadoAbierto]="modalEliminarVisible" (cerrarModal)="cerrarModalEliminar()">
  <div slot="header">
    <h3>Eliminar CategorÃ­a</h3>
  </div>

  <p>Â¿EstÃ¡s seguro de eliminar esta categorÃ­a? esta opciÃ³n no se podrÃ¡ deshacer.</p>

  <div slot="footer">
    <button (click)="cerrarModalEliminar()" class="btn">Cancelar âŒ</button>
    <button (click)="confirmarEliminacion()" class="btn">Eliminar âœ…</button>
  </div>
</ajustes-modal>

<ajustes-modal [estadoAbierto]="modalCrearEditarVisible" (cerrarModal)="cerrarModalCrearEditar()">
  <div slot="header">
    <h3> {{ categoriaSeleccionada() ? 'Editar CategorÃ­a' : 'Crear Nueva CategorÃ­a' }} </h3>
  </div>

  <form id="edicionCategoria" [formGroup]="categoriaForm" (submit)="confirmarCrearEditar()">
    <div class="input-contenedor">
      <input id="nombre" type="text" formControlName="nombre" required>
      <label for="nombre" class="label">Nombre</label>
      <div class="lineado"></div>
    </div>
    <div class="input-contenedor">
      <input id="descripcion" type="text" formControlName="descripcion" required>
      <label for="descripcion" class="label">DescripciÃ³n</label>
      <div class="lineado"></div>
    </div>
  </form>

  <div slot="footer">
    <button (click)="cerrarModalCrearEditar()" class="btn">Cancelar âŒ</button>
    <button form="edicionCategoria" type="submit" [disabled]="categoriaForm.invalid" class="btn">
      {{ categoriaSeleccionada() ? 'Actualizar âœ…' : 'Crear âœ…' }}
    </button>
  </div>
</ajustes-modal>
